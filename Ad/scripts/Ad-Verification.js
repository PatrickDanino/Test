// initialize partners script url here
// eslint-disable-next-line no-unused-vars
const vueScriptUrl = 'https://ts.amazon-adsystem.com/tg/resources/vue/imdb-app-display/csmv1.js';

function extractPayloadParam(doc) {
    try {
        const parser = doc.createElement('a');
        parser.href = doc.currentScript.src;

        const params = {};
        const queryString = parser.search.slice(1); // Remove the leading '?'

        if (queryString) {
            const pairs = queryString.split('&');
            // eslint-disable-next-line no-restricted-syntax
            for (const pair of pairs) {
                const [key, value] = pair.split('=');
                params[decodeURIComponent(key)] = decodeURIComponent(value);
            }
        }

        const payloadParam = params.p ? JSON.parse(decodeURIComponent(params.p).replaceAll('\\', '')) : null;
        const trafficParam = params.s ? JSON.parse(decodeURIComponent(params.s).replaceAll('\\', '')) : null;

        const payload = { ...payloadParam, ...trafficParam };
        return payload;
    } catch (ex) {
        // Do nothing
    }
    return null;
}

function init() {
    let doc;
    let payload;
    try {
        doc = typeof window !== 'undefined' && window ? window.document : document;
        if (doc) {
            payload = extractPayloadParam(doc);
        }
    } catch (ex) {
        // Do nothing
    }
    if (payload && typeof payload === 'object' && Object.prototype.hasOwnProperty.call(payload, 'ep') && payload.ep.length > 0) {
        const enabledPartners = payload.ep;
        if (enabledPartners.includes('vue')) {
            !function(e){var o={};function t(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=o,t.d=function(e,o,i){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var n in e)t.d(i,n,function(o){return e[o]}.bind(null,n));return i},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=12)}([function(e,o){e.exports=function(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}},function(e,o){e.exports=function(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}},function(e,o){function t(o){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(o)}e.exports=t},function(e,o){function t(e,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}},function(e,o){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,o,t){"use strict";(function(e){var i=t(2),n=t.n(i),r=t(1),m=t.n(r),s=t(3),a=t.n(s),c=t(0),l=t.n(c),d=t(11),u=t(6),$=t(7),p=t(8),f=t(9),h=Symbol("_pixelQueue"),v=Symbol("_utils"),y=Symbol("_reportError"),_=Symbol("_omidAdapter"),b=Symbol("_adID"),S=Symbol("_errorStr"),g=Symbol("_reportPerfMetrics"),E=Symbol("_startViewComp"),x=Symbol("_sessionObsCallback"),I=Symbol("_setup"),C=Symbol("_reportOMSupport"),O=Symbol("_sessionInitiated"),T=Symbol("_initiateSession"),w=Symbol("_initParams"),M=Symbol("_payloadParams"),P=Symbol("_customImpressionEvent"),N=Symbol("_customEventCallBack"),A=function(){function o(){var t=this;m()(this,o),l()(this,g,(function(){var e=null,o={mtd:null};t[v].checkWinPerfAPI()?(e=window.performance.getEntriesByType("measure"),o.mtd="win"):(e=t[v].latencyMeasureQueue,o.mtd="prim");for(var i=0;i<e.length;i+=1){var n=e[i];if(n.name.endsWith(t[b]))o[n.name.substring(0,n.name.length-t[b].length)]=n.duration.toFixed(2)}Object.keys(o).length>1&&t[h].addPixel(o)})),l()(this,N,(function(e){t[P]=e,setTimeout((function(){t[P]&&t[T](t[P])}),1e3)})),l()(this,w,(function(){try{var o=void 0!==e&&e&&e.document||"undefined"!=typeof window&&window&&window.document||"undefined"!=typeof globalThis&&globalThis&&globalThis.document||"undefined"!=typeof document&&document||null;if(o&&o.currentScript){var i=new URL(o.currentScript.src),n=new URLSearchParams(i.search);if(n.has("p")){var r=JSON.parse(decodeURIComponent(n.get("p")));t[M]=r}}}catch(e){t[S]=e.message}})),l()(this,x,(function(e){if("sessionStart"===e.type&&e.data&&"object"===n()(e.data)){try{if(e.data.verificationParameters){var o=JSON.parse(e.data.verificationParameters);for(var i in o)void 0===t[M][i]&&(t[M][i]=o[i])}}catch(e){t[S]=e.message}t[T](e.data)}})),l()(this,T,(function(e){t[O]||(t[O]=!0,t[I](e))})),l()(this,I,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(t[h]=new u.a(t[_]),t[h].setPixelParams(t[M]),t[y]=new $.a(t[h]),t[S]&&t[y]){var o=new Error(t[S]);o.stack=null,t[y].reportClientError(o)}t[b]=Math.round(1e7*Math.random()).toString(),t[v]=new p.a(t[_],t[y],t[b]),t[C](e),t[E]()}catch(e){t[y]&&t[y].reportClientError(e)}})),l()(this,C,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=null,i=null;e&&e.context&&(o=e.context.omidJsInfo,i=e.context.omidNativeInfo);var n={om:!0,omidJsInfo:o,omidNativeInfo:i};t[h].firePixel({adCsm:[n]})})),l()(this,E,(function(){t[v].startLatencyForParam("csm"),new d.a(t[_],t[h],t[y],t[v],!1).collectData(t[P]),t[v].endLatencyForParam("csm"),t[g]()})),this[_]=new f.OmidVerificationClient,this[P]=null,this[M]={},this[O]=!1}return a()(o,[{key:"init",value:function(){var e=this;try{window.addEventListener("impression",(function(o){e[N](o)})),this[w](),this[_].registerSessionObserver((function(o){return e[x](o)}),"amazon.com-omid")}catch(e){this[S]=e.message}}}]),o}();o.a=A}).call(this,t(4))},function(e,o,t){"use strict";var i=t(2),n=t.n(i),r=t(1),m=t.n(r),s=t(3),a=t.n(s),c={"v/":"v","atf/":"atf","btr/":"btr","":"other"},l={btr:"bt",atf:"at",v:"v",adCsm:"ac",adViewability:"av",other:"o"},d=Symbol("_pixelQueue"),u=Symbol("_omidAdapter"),$=Symbol("_pixelParams"),p=Symbol("_sanitizePixelUrl"),f=Symbol("_flushQueue"),h=Symbol("_pixelId"),v=Symbol("_timerId"),y=Symbol("_constructPixelUrl"),_=Symbol("_getVuePixelType"),b=Symbol("_replacePixelMacro"),S=Symbol("_getPixelUrls"),g=Symbol("_constructInstrUrl"),E=Symbol("_constructMacroBasedUrl"),x=function(){function e(o){m()(this,e),this[u]=o,this[h]=Math.random().toString(36).substr(2),this[d]=[],this[v]=null}return a()(e,[{key:"setPixelParams",value:function(e){this[$]=e;var o=e.pm||{};o="object"===n()(o)?o:JSON.parse(o),this[$].pm=o}},{key:b,value:function(e,o,t){var i=encodeURIComponent(o);if(-1!==e.indexOf(i))return e.replace(i,t);if(-1!==e.indexOf(o))return e.replace(o,t);throw new Error("".concat(o.replace(/\$/g,"")," is not part of URL"))}},{key:g,value:function(e,o,t){var i=this[p](e,!0),n=Math.round(1e7*Math.random());return i=""===t?"".concat(i,"?p=").concat(o,"&cb=").concat(n):"".concat(i).concat(t).concat(o,"?cb=").concat(n)}},{key:E,value:function(e,o,t){var i=this[p](e,!1),n=c[t];return i=this[b](i,"${AAX_TYPE}",n),i=this[b](i,"${AAX_PAYLOAD}",o),i="".concat(i,"&cb=").concat(Math.round(1e7*Math.random()))}},{key:y,value:function(e,o,t){var i=encodeURIComponent(JSON.stringify(e).replace(/%/g,"<per>"));return"instrUrl"===t?this[g](this[$][t],i,o):this[E](this[$][t],i,o)}},{key:S,value:function(e,o,t){for(var i=l[o],n=[],r=this[$].pm[i]||["instrUrl"],m=0;m<r.length;m+=1)n.push(this[y](e,t,r[m]));return n}},{key:_,value:function(e,o){var t=o;return"other"===o&&(void 0!==e.adCsm?t="adCsm":void 0!==e.adViewability&&(t="adViewability")),t}},{key:"firePixel",value:function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||0===Object.keys(e).length)throw new Error("No payload to send");void 0===e.pixelId&&(e.pixelId=this[h]);for(var t=this[_](e,c[o]),i=this[S](e,t,o),n=0;n<i.length;n+=1)null!=i[n]&&this[u].sendUrl(i[n])}},{key:"addPixel",value:function(e){var o=this;if(!e||0===Object.keys(e).length)throw new Error("No payload to send");var t=function(){o[d].length>0&&(o.firePixel({adCsm:o[d]}),o[f](),o[u].clearTimeout(o[v]))};0===this[d].length&&(this[v]=this[u].setTimeout(t,2500)),this[d].push(e),this[d].length>=4&&t()}},{key:p,value:function(e,o){var t=e;return t&&(!0===/^http:\/\//.test(t)&&(t=t.replace("http://","https://")),o&&(t="/"===t[t.length-1]?t:"".concat(t,"/"))),t}},{key:f,value:function(){this[d]=[]}},{key:"pixelId",get:function(){return this[h]}}]),e}();o.a=x},function(e,o,t){"use strict";var i=t(1),n=t.n(i),r=t(3),m=t.n(r),s=Symbol("_pixelQueue"),a=Symbol("_errorMessages"),c=Symbol("_constructErrorMessage"),l=Symbol("_getErrorMessage"),d=Symbol("_get"),u=Symbol("_sanitizeStackFrame"),$=function(){function e(o){n()(this,e),this[s]=o,this[a]=[]}return m()(e,[{key:u,value:function(e){if(e){var o=e.indexOf("?"),t=e.split(":"),i=t.length;if(-1!==o||i>=2){var n=t[i-2],r=t[i-1];return(e.slice(0,o)+":"+n+":"+r).replace(/^\s+|\s+$/g,"").replace(/%/g,"<per>").slice(-256)}return e.replace(/^\s+|\s+$/g,"").slice(-256)}return e}},{key:c,value:function(e,o){if(o=o||{},!e)return{};e.m&&e.m.message&&(e=e.m);var t,i,n,r,m={m:this[l](e,o),c:e.c?"".concat(e.c):e.c,s:[],l:e.l||e.line||e.lineno||e.lineNumber,name:e.name,type:e.type},s=0,a=0,c=e.stack||(e.err?e.err.stack:"");if(c&&c.split)for(t=c.split("\n");s<t.length&&m.s.length<5;)i=t[s],s+=1,i&&m.s.unshift(this[u](i));else for(n=this[d](e.args||arguments,"callee"),s=0,a=0;n&&s<5;)r=256,n.skipTrace||(i=n.toString())&&i.substr&&(r=0===a?1024:r,r=1===a?512:r,m.s.unshift(i.substr(0,r)),a+=1),n=this[d](n,"caller"),s+=1;return m}},{key:l,value:function(e,o){var t=o.m||o.message||"";return e.m&&e.m.message?t+=e.m.message:e.m&&e.m.target&&e.m.target.tagName?t+="Error handler invoked by ".concat(e.m.target.tagName," tag"):e.m?t+=e.m:e.message?t+=e.message:t+="Unknown error",t}},{key:d,value:function(e,o){try{return e[o]}catch(e){return""}}},{key:"reportClientError",value:function(e){var o=this[c](e),t={adViewability:[{error:o}],c:"viewability",api:"MAPPVDO",error:1};-1===this[a].indexOf(o)&&(this[a].push(o),this[s].firePixel(t))}}]),e}();o.a=$},function(e,o,t){"use strict";var i=t(1),n=t.n(i),r=t(0),m=t.n(r),s=Symbol("_omidAdapter"),a=Symbol("_latencyMap"),c=Symbol("_getLatency"),l=Symbol("_reportError"),d=Symbol("_adID"),u=Symbol("_isWinPerf"),$=Symbol("_isDte"),p=Symbol("_event");o.a=function e(o,t,i){var r=this;n()(this,e),m()(this,"getEvent",(function(){return r[p]})),m()(this,"setEvent",(function(e){r[p]=e})),m()(this,"checkWinPerfAPI",(function(){return"undefined"!=typeof window&&window.performance&&window.performance.mark&&"function"==typeof window.performance.mark})),m()(this,"checkDateFunction",(function(){return"function"==typeof Date})),m()(this,"startLatencyForParam",(function(e){try{r[u]?window.performance.mark("".concat(e,"Start").concat(r[d])):void 0===r[a].get("".concat(e,"Start").concat(r[d]))&&r[a].set("".concat(e,"Start").concat(r[d]),r.getTimeStamp())}catch(e){r[l].reportClientError(e)}})),m()(this,"endLatencyForParam",(function(e){r[u]?(window.performance.mark("".concat(e,"End").concat(r[d])),0!==window.performance.getEntriesByName("".concat(e,"Start").concat(r[d])).length&&window.performance.measure("".concat(e).concat(r[d]),"".concat(e,"Start").concat(r[d]),"".concat(e,"End").concat(r[d]))):void 0!==r[a].get("".concat(e,"Start").concat(r[d]))&&(r[a].set("".concat(e,"End").concat(r[d]),r.getTimeStamp()),r.latencyMeasureQueue.push({name:"".concat(e).concat(r[d]),duration:r[c](e)}))})),m()(this,"getTimeStamp",(function(){return r[u]?performance.now():r[$]?Date.now():void 0})),m()(this,c,(function(e){return r[a].get("".concat(e,"End").concat(r[d]))-r[a].get("".concat(e,"Start").concat(r[d]))})),m()(this,"setTimeout",(function(e,o){return r[s].setTimeout((function(){try{e()}catch(e){r[l].reportClientError(e)}}),o)})),m()(this,"setInterval",(function(e,o){return r[s].setInterval((function(){try{e()}catch(e){r[l].reportClientError(e)}}),o)})),m()(this,"getVisibilityState",(function(e){try{var o=e||document;return void 0===o.visibilityState?"Unknown":o.visibilityState}catch(e){return"Unknown"}})),this[s]=o,this[a]=new Map,this[l]=t,this[u]=this.checkWinPerfAPI(),this[$]=this.checkDateFunction(),this.latencyMeasureQueue=[],this[d]=i,this[p]=""}},function(module,exports,__webpack_require__){(function(global){!function(e,o,t){if("object"==typeof t&&"string"!=typeof t.nodeName)o(e,t);else{t={};var i=["1.3.2"];function n(e){for(var o in e)e.hasOwnProperty(o)&&(e[o]=n(e[o]));return Object.freeze(e)}for(var r in o(e,t),t)t.hasOwnProperty(r)&&(null==Object.getOwnPropertyDescriptor(e,r)&&Object.defineProperty(e,r,{value:{}}),i.forEach((function(o){if(null==Object.getOwnPropertyDescriptor(e[r],o)){var i=n(t[r]);Object.defineProperty(e[r],o,{get:function(){return i},enumerable:!0})}})))}}(void 0===global?this:global,(function(omidGlobal,omidExports){"use strict";var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.arrayIteratorImpl=function(e){var o=0;return function(){return o<e.length?{done:!1,value:e[o++]}:{done:!0}}},$jscomp.arrayIterator=function(e){return{next:$jscomp.arrayIteratorImpl(e)}},$jscomp.makeIterator=function(e){var o="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return o?o.call(e):$jscomp.arrayIterator(e)},$jscomp.arrayFromIterator=function(e){for(var o,t=[];!(o=e.next()).done;)t.push(o.value);return t},$jscomp.arrayFromIterable=function(e){return e instanceof Array?e:$jscomp.arrayFromIterator($jscomp.makeIterator(e))},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(e){var o=function(){};return o.prototype=e,new o},$jscomp.underscoreProtoCanBeSet=function(){var e={};try{return e.__proto__={a:!0},e.a}catch(e){}return!1},$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(e,o){if(e.__proto__=o,e.__proto__!==o)throw new TypeError(e+" is not extensible");return e}:null,$jscomp.inherits=function(e,o){if(e.prototype=$jscomp.objectCreate(o.prototype),e.prototype.constructor=e,$jscomp.setPrototypeOf){var t=$jscomp.setPrototypeOf;t(e,o)}else for(t in o)if("prototype"!=t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(o,t);i&&Object.defineProperty(e,t,i)}else e[t]=o[t];e.superClass_=o.prototype};var module$exports$omid$common$argsChecker={assertTruthyString:function(e,o){if(!o)throw Error("Value for "+e+" is undefined, null or blank.");if("string"!=typeof o&&!(o instanceof String))throw Error("Value for "+e+" is not a string.");if(""===o.trim())throw Error("Value for "+e+" is empty string.")},assertNotNullObject:function(e,o){if(null==o)throw Error("Value for "+e+" is undefined or null")},assertNumber:function(e,o){if(null==o)throw Error(e+" must not be null or undefined.");if("number"!=typeof o||isNaN(o))throw Error("Value for "+e+" is not a number")},assertNumberBetween:function(e,o,t,i){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,o),o<t||o>i)throw Error("Value for "+e+" is outside the range ["+t+","+i+"]")},assertFunction:function(e,o){if(!o)throw Error(e+" must not be truthy.")},assertPositiveNumber:function(e,o){if((0,module$exports$omid$common$argsChecker.assertNumber)(e,o),0>o)throw Error(e+" must be a positive number.")}},module$exports$omid$common$VersionUtils={},module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER=3;module$exports$omid$common$VersionUtils.isValidVersion=function(e){return/\d+\.\d+\.\d+(-.*)?/.test(e)},module$exports$omid$common$VersionUtils.versionGreaterOrEqual=function(e,o){e=e.split("-")[0].split("."),o=o.split("-")[0].split(".");for(var t=0;t<module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER;t++){var i=parseInt(e[t],10),n=parseInt(o[t],10);if(i>n)break;if(i<n)return!1}return!0};var module$exports$omid$common$ArgsSerDe={},module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION="1.0.3";module$exports$omid$common$ArgsSerDe.serializeMessageArgs=function(e,o){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?o:JSON.stringify(o)},module$exports$omid$common$ArgsSerDe.deserializeMessageArgs=function(e,o){return(0,module$exports$omid$common$VersionUtils.isValidVersion)(e)&&(0,module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(e,module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION)?o||[]:o&&"string"==typeof o?JSON.parse(o):[]};var module$exports$omid$common$constants={AdEventType:{IMPRESSION:"impression",STATE_CHANGE:"stateChange",GEOMETRY_CHANGE:"geometryChange",SESSION_START:"sessionStart",SESSION_ERROR:"sessionError",SESSION_FINISH:"sessionFinish",MEDIA:"media",VIDEO:"video",LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"},MediaEventType:{LOADED:"loaded",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",PAUSE:"pause",RESUME:"resume",BUFFER_START:"bufferStart",BUFFER_FINISH:"bufferFinish",SKIPPED:"skipped",VOLUME_CHANGE:"volumeChange",PLAYER_STATE_CHANGE:"playerStateChange",AD_USER_INTERACTION:"adUserInteraction"}};module$exports$omid$common$constants.VideoEventType=module$exports$omid$common$constants.MediaEventType,module$exports$omid$common$constants.ImpressionType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",UNSPECIFIED:"unspecified",LOADED:"loaded",BEGIN_TO_RENDER:"beginToRender",ONE_PIXEL:"onePixel",VIEWABLE:"viewable",AUDIBLE:"audible",OTHER:"other"},module$exports$omid$common$constants.ErrorType={GENERIC:"generic",VIDEO:"video",MEDIA:"media"},module$exports$omid$common$constants.AdSessionType={NATIVE:"native",HTML:"html",JAVASCRIPT:"javascript"},module$exports$omid$common$constants.EventOwner={NATIVE:"native",JAVASCRIPT:"javascript",NONE:"none"},module$exports$omid$common$constants.AccessMode={FULL:"full",LIMITED:"limited"},module$exports$omid$common$constants.AppState={BACKGROUNDED:"backgrounded",FOREGROUNDED:"foregrounded"},module$exports$omid$common$constants.Environment={APP:"app",WEB:"web"},module$exports$omid$common$constants.InteractionType={CLICK:"click",INVITATION_ACCEPT:"invitationAccept"},module$exports$omid$common$constants.CreativeType={DEFINED_BY_JAVASCRIPT:"definedByJavaScript",HTML_DISPLAY:"htmlDisplay",NATIVE_DISPLAY:"nativeDisplay",VIDEO:"video",AUDIO:"audio"},module$exports$omid$common$constants.MediaType={DISPLAY:"display",VIDEO:"video"},module$exports$omid$common$constants.Reason={NOT_FOUND:"notFound",HIDDEN:"hidden",BACKGROUNDED:"backgrounded",VIEWPORT:"viewport",OBSTRUCTED:"obstructed",CLIPPED:"clipped"},module$exports$omid$common$constants.SupportedFeatures={CONTAINER:"clid",VIDEO:"vlid"},module$exports$omid$common$constants.VideoPosition={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll",STANDALONE:"standalone"},module$exports$omid$common$constants.VideoPlayerState={MINIMIZED:"minimized",COLLAPSED:"collapsed",NORMAL:"normal",EXPANDED:"expanded",FULLSCREEN:"fullscreen"},module$exports$omid$common$constants.NativeViewKeys={X:"x",LEFT:"left",Y:"y",TOP:"top",WIDTH:"width",HEIGHT:"height",AD_SESSION_ID:"adSessionId",IS_FRIENDLY_OBSTRUCTION_FOR:"isFriendlyObstructionFor",CLIPS_TO_BOUNDS:"clipsToBounds",CHILD_VIEWS:"childViews",END_X:"endX",END_Y:"endY",OBSTRUCTIONS:"obstructions",OBSTRUCTION_CLASS:"obstructionClass",OBSTRUCTION_PURPOSE:"obstructionPurpose",OBSTRUCTION_REASON:"obstructionReason",PIXELS:"pixels"},module$exports$omid$common$constants.MeasurementStateChangeSource={CONTAINER:"container",CREATIVE:"creative"},module$exports$omid$common$constants.ElementMarkup={OMID_ELEMENT_CLASS_NAME:"omid-element"},module$exports$omid$common$constants.CommunicationType={NONE:"NONE",DIRECT:"DIRECT",POST_MESSAGE:"POST_MESSAGE"},module$exports$omid$common$constants.OmidImplementer={OMSDK:"omsdk"};var module$contents$omid$common$InternalMessage_GUID_KEY="omid_message_guid",module$contents$omid$common$InternalMessage_METHOD_KEY="omid_message_method",module$contents$omid$common$InternalMessage_VERSION_KEY="omid_message_version",module$contents$omid$common$InternalMessage_ARGS_KEY="omid_message_args",module$exports$omid$common$InternalMessage=function(e,o,t,i){this.guid=e,this.method=o,this.version=t,this.args=i};module$exports$omid$common$InternalMessage.isValidSerializedMessage=function(e){return!!e&&void 0!==e[module$contents$omid$common$InternalMessage_GUID_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&void 0!==e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_GUID_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_METHOD_KEY]&&"string"==typeof e[module$contents$omid$common$InternalMessage_VERSION_KEY]&&(void 0===e[module$contents$omid$common$InternalMessage_ARGS_KEY]||void 0!==e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.deserialize=function(e){return new module$exports$omid$common$InternalMessage(e[module$contents$omid$common$InternalMessage_GUID_KEY],e[module$contents$omid$common$InternalMessage_METHOD_KEY],e[module$contents$omid$common$InternalMessage_VERSION_KEY],e[module$contents$omid$common$InternalMessage_ARGS_KEY])},module$exports$omid$common$InternalMessage.prototype.serialize=function(){var e={};return e[module$contents$omid$common$InternalMessage_GUID_KEY]=this.guid,e[module$contents$omid$common$InternalMessage_METHOD_KEY]=this.method,e[module$contents$omid$common$InternalMessage_VERSION_KEY]=this.version,e=e,void 0!==this.args&&(e[module$contents$omid$common$InternalMessage_ARGS_KEY]=this.args),e};var module$exports$omid$common$Communication=function(e){this.to=e,this.communicationType_=module$exports$omid$common$constants.CommunicationType.NONE};module$exports$omid$common$Communication.prototype.sendMessage=function(e,o){},module$exports$omid$common$Communication.prototype.handleMessage=function(e,o){this.onMessage&&this.onMessage(e,o)},module$exports$omid$common$Communication.prototype.serialize=function(e){return JSON.stringify(e)},module$exports$omid$common$Communication.prototype.deserialize=function(e){return JSON.parse(e)},module$exports$omid$common$Communication.prototype.isDirectCommunication=function(){return this.communicationType_===module$exports$omid$common$constants.CommunicationType.DIRECT},module$exports$omid$common$Communication.prototype.isCrossOrigin=function(){};var module$exports$omid$common$DetectOmid={OMID_PRESENT_FRAME_NAME:"omid_v1_present",isOmidPresent:function(e){try{return!!e.frames&&!!e.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME]}catch(e){return!1}},declareOmidPresence:function(e){e.frames&&e.document&&(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in e.frames||(null==e.document.body&&module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(e)?module$exports$omid$common$DetectOmid.registerMutationObserver_(e):e.document.body?module$exports$omid$common$DetectOmid.appendPresenceIframe_(e):e.document.write('<iframe style="display:none" id="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'" name="'+module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME+'"></iframe>')))},appendPresenceIframe_:function(e){var o=e.document.createElement("iframe");o.id=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,o.name=module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME,o.style.display="none",e.document.body.appendChild(o)},isMutationObserverAvailable_:function(e){return"MutationObserver"in e},registerMutationObserver_:function(e){var o=new MutationObserver((function(t){t.forEach((function(t){"BODY"===t.addedNodes[0].nodeName&&(module$exports$omid$common$DetectOmid.appendPresenceIframe_(e),o.disconnect())}))}));o.observe(e.document.documentElement,{childList:!0})}},module$exports$omid$common$DirectCommunication=function(e){module$exports$omid$common$Communication.call(this,e),this.communicationType_=module$exports$omid$common$constants.CommunicationType.DIRECT,this.handleExportedMessage=module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(this)};$jscomp.inherits(module$exports$omid$common$DirectCommunication,module$exports$omid$common$Communication),module$exports$omid$common$DirectCommunication.prototype.sendMessage=function(e,o){if(!(o=void 0===o?this.to:o))throw Error("Message destination must be defined at construction time or when sending the message.");o.handleExportedMessage(e.serialize(),this)},module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage=function(e,o){module$exports$omid$common$InternalMessage.isValidSerializedMessage(e)&&this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(e),o)},module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin=function(){return!1};var module$exports$omid$common$eventTypedefs={},module$exports$omid$common$exporter={};function module$contents$omid$common$exporter_getOmidExports(){return void 0===omidExports?null:omidExports}function module$contents$omid$common$exporter_getOrCreateName(e,o){return e&&(e[o]||(e[o]={}))}module$exports$omid$common$exporter.packageExport=function(e,o,t){(t=void 0===t?module$contents$omid$common$exporter_getOmidExports():t)&&((e=e.split(".")).slice(0,e.length-1).reduce(module$contents$omid$common$exporter_getOrCreateName,t)[e[e.length-1]]=o)};var module$exports$omid$common$guid={generateGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var o=16*Math.random()|0;return e="y"===e?(3&o|8).toString(16):o.toString(16)}))}},module$exports$omid$common$logger={error:function(e){for(var o=[],t=0;t<arguments.length;++t)o[t-0]=arguments[t];module$contents$omid$common$logger_executeLog((function(){throw new(Function.prototype.bind.apply(Error,[null,"Could not complete the test successfully - "].concat($jscomp.arrayFromIterable(o))))}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(o))}))},debug:function(e){for(var o=[],t=0;t<arguments.length;++t)o[t-0]=arguments[t];module$contents$omid$common$logger_executeLog((function(){}),(function(){return console.error.apply(console,$jscomp.arrayFromIterable(o))}))}};function module$contents$omid$common$logger_executeLog(e,o){"undefined"!=typeof jasmine&&jasmine?e():"undefined"!=typeof console&&console&&console.error&&o()}var module$exports$omid$common$OmidGlobalProvider={},module$contents$omid$common$OmidGlobalProvider_globalThis=eval("this");function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal(){if(void 0!==omidGlobal&&omidGlobal)return omidGlobal;if(void 0!==global&&global)return global;if("undefined"!=typeof window&&window)return window;if(void 0!==module$contents$omid$common$OmidGlobalProvider_globalThis&&module$contents$omid$common$OmidGlobalProvider_globalThis)return module$contents$omid$common$OmidGlobalProvider_globalThis;throw Error("Could not determine global object context.")}module$exports$omid$common$OmidGlobalProvider.omidGlobal=module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();var module$exports$omid$common$windowUtils={};function module$contents$omid$common$windowUtils_isValidWindow(e){return null!=e&&void 0!==e.top&&null!=e.top}function module$contents$omid$common$windowUtils_isSameOriginForIE(e){return""===e.x||""!==e.x}module$exports$omid$common$windowUtils.isCrossOrigin=function(e){if(e===module$exports$omid$common$OmidGlobalProvider.omidGlobal)return!1;try{if(void 0===e.location.hostname)return!0;module$contents$omid$common$windowUtils_isSameOriginForIE(e)}catch(e){return!0}return!1},module$exports$omid$common$windowUtils.resolveGlobalContext=function(e){return void 0===e&&"undefined"!=typeof window&&window&&(e=window),module$contents$omid$common$windowUtils_isValidWindow(e)?e:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.resolveTopWindowContext=function(e){return module$contents$omid$common$windowUtils_isValidWindow(e)?e.top:module$exports$omid$common$OmidGlobalProvider.omidGlobal},module$exports$omid$common$windowUtils.evaluatePageUrl=function(e){if(!module$contents$omid$common$windowUtils_isValidWindow(e))return null;try{var o=e.top;return(0,module$exports$omid$common$windowUtils.isCrossOrigin)(o)?null:o.location.href}catch(e){return null}};var module$exports$omid$common$PostMessageCommunication=function(e,o){o=void 0===o?module$exports$omid$common$OmidGlobalProvider.omidGlobal:o,module$exports$omid$common$Communication.call(this,o);var t=this;this.communicationType_=module$exports$omid$common$constants.CommunicationType.POST_MESSAGE,e.addEventListener("message",(function(e){if("object"==typeof e.data){var o=e.data;module$exports$omid$common$InternalMessage.isValidSerializedMessage(o)&&(o=module$exports$omid$common$InternalMessage.deserialize(o),e.source&&t.handleMessage(o,e.source))}}))};$jscomp.inherits(module$exports$omid$common$PostMessageCommunication,module$exports$omid$common$Communication),module$exports$omid$common$PostMessageCommunication.isCompatibleContext=function(e){return!!(e&&e.addEventListener&&e.postMessage)},module$exports$omid$common$PostMessageCommunication.prototype.sendMessage=function(e,o){if(!(o=void 0===o?this.to:o))throw Error("Message destination must be defined at construction time or when sending the message.");o.postMessage(e.serialize(),"*")},module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin=function(){return!this.to||(0,module$exports$omid$common$windowUtils.isCrossOrigin)(this.to)};var module$exports$omid$common$Rectangle=function(e,o,t,i){this.x=e,this.y=o,this.width=t,this.height=i},module$exports$omid$common$serviceCommunication={},module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME=["omid","v1_SessionServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME=["omid","v1_VerificationServiceCommunication"],module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME=["omidVerificationProperties","serviceWindow"];function module$contents$omid$common$serviceCommunication_getValueForKeypath(e,o){return o.reduce((function(e,o){return e&&e[o]}),e)}function module$contents$omid$common$serviceCommunication_startServiceCommunication(e,o,t,i){if(!(0,module$exports$omid$common$windowUtils.isCrossOrigin)(o))try{var n=module$contents$omid$common$serviceCommunication_getValueForKeypath(o,t);if(n)return new module$exports$omid$common$DirectCommunication(n)}catch(e){}return i(o)?new module$exports$omid$common$PostMessageCommunication(e,o):null}function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,o,t,i){for(var n=(o=$jscomp.makeIterator(o)).next();!n.done;n=o.next())if(n=module$contents$omid$common$serviceCommunication_startServiceCommunication(e,n.value,t,i))return n;return null}module$exports$omid$common$serviceCommunication.startSessionServiceCommunication=function(e,o,t){t=void 0===t?module$exports$omid$common$DetectOmid.isOmidPresent:t;var i=[e,(0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)];return o&&i.unshift(o),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,i,module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,t)},module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication=function(e,o){o=void 0===o?module$exports$omid$common$DetectOmid.isOmidPresent:o;var t=[],i=module$contents$omid$common$serviceCommunication_getValueForKeypath(e,module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME);return i&&t.push(i),t.push((0,module$exports$omid$common$windowUtils.resolveTopWindowContext)(e)),module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(e,t,module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,o)};var module$exports$omid$common$VastProperties=function(e,o,t,i){this.isSkippable=e,this.skipOffset=o,this.isAutoPlay=t,this.position=i};module$exports$omid$common$VastProperties.prototype.toJSON=function(){return{isSkippable:this.isSkippable,skipOffset:this.skipOffset,isAutoPlay:this.isAutoPlay,position:this.position}};var module$exports$omid$common$version={ApiVersion:"1.0",Version:"1.3.2"},module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION=module$exports$omid$common$version.Version,module$contents$omid$verificationClient$VerificationClient_EventCallback;function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid(){var e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;return e&&"function"==typeof e.registerSessionObserver&&"function"==typeof e.addEventListener?e:null}var module$exports$omid$verificationClient$VerificationClient=function(e){(this.communication=e||(0,module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)((0,module$exports$omid$common$windowUtils.resolveGlobalContext)()))?this.communication.onMessage=this.handleMessage_.bind(this):(e=module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())&&(this.omid3p=e),this.remoteIntervals_=this.remoteTimeouts_=0,this.callbackMap_={},this.imgCache_=[],this.injectionId_=(e=module$exports$omid$common$OmidGlobalProvider.omidGlobal.omidVerificationProperties)?e.injectionId:void 0};module$exports$omid$verificationClient$VerificationClient.prototype.isSupported=function(){return!(!this.communication&&!this.omid3p)},module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver=function(e,o){(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),this.omid3p?this.omid3p.registerSessionObserver(e,o,this.injectionId_):this.sendMessage_("addSessionListener",e,o,this.injectionId_)},module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener=function(e,o){(0,module$exports$omid$common$argsChecker.assertTruthyString)("eventType",e),(0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",o),this.omid3p?this.omid3p.addEventListener(e,o):this.sendMessage_("addEventListener",o,e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl=function(e,o,t){(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document&&module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement?this.sendUrlWithImg_(e,o,t):this.sendMessage_("sendUrl",(function(e){e&&o?o():!e&&t&&t()}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_=function(e,o,t){var i=this,n=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement("img");this.imgCache_.push(n);var r=function(e){var o=i.imgCache_.indexOf(n);0<=o&&i.imgCache_.splice(o,1),e&&e()};n.addEventListener("load",r.bind(this,o)),n.addEventListener("error",r.bind(this,t)),n.src=e},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource=function(e,o,t){var i=this;(0,module$exports$omid$common$argsChecker.assertTruthyString)("url",e),module$exports$omid$common$OmidGlobalProvider.omidGlobal.document?this.injectJavascriptResourceUrlInDom_(e,o,t):this.sendMessage_("injectJavaScriptResource",(function(n,r){n?(i.evaluateJavaScript_(r,e),o()):(module$exports$omid$common$logger.error("Service failed to load JavaScript resource."),t())}),e)},module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_=function(e,o,t){var i=module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,n=i.body;(i=i.createElement("script")).onload=o,i.onerror=t,i.src=e,i.type="application/javascript",n.appendChild(i)},module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_=function(a,b){try{eval(a)}catch(e){module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "'+b+'".')}},module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout=function(e,o){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",o),this.hasTimeoutMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(e,o);var t=this.remoteTimeouts_++;return this.sendMessage_("setTimeout",e,t,o),t},module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeoutId",e),this.hasTimeoutMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(e):this.sendOneWayMessage_("clearTimeout",e)},module$exports$omid$verificationClient$VerificationClient.prototype.setInterval=function(e,o){if((0,module$exports$omid$common$argsChecker.assertFunction)("functionToExecute",e),(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("timeInMillis",o),this.hasIntervalMethods_())return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(e,o);var t=this.remoteIntervals_++;return this.sendMessage_("setInterval",e,t,o),t},module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval=function(e){(0,module$exports$omid$common$argsChecker.assertPositiveNumber)("intervalId",e),this.hasIntervalMethods_()?module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(e):this.sendOneWayMessage_("clearInterval",e)},module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout},module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_=function(){return"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval&&"function"==typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval},module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_=function(e,o){o=e.method;var t=e.guid;if(e=e.args,"response"===o&&this.callbackMap_[t]){var i=(0,module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,e);this.callbackMap_[t].apply(this,i)}"error"===o&&window.console&&module$exports$omid$common$logger.error(e)},module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_=function(e,o){for(var t=[],i=1;i<arguments.length;++i)t[i-1]=arguments[i];this.sendMessage_.apply(this,[e,null].concat($jscomp.arrayFromIterable(t)))},module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_=function(e,o,t){for(var i=[],n=2;n<arguments.length;++n)i[n-2]=arguments[n];this.communication&&(n=(0,module$exports$omid$common$guid.generateGuid)(),o&&(this.callbackMap_[n]=o),i=new module$exports$omid$common$InternalMessage(n,"VerificationService."+e,module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,(0,module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,i)),this.communication.sendMessage(i))},(0,module$exports$omid$common$exporter.packageExport)("OmidVerificationClient",module$exports$omid$verificationClient$VerificationClient)}),exports)}).call(this,__webpack_require__(4))},,function(e,o,t){"use strict";var i=t(1),n=t.n(i),r=t(0),m=t.n(r),s=Symbol("_omidAdapter"),a=Symbol("_reportError"),c=Symbol("_videoEventCallback"),l=Symbol("_fractionInViewportOMSDK"),d=Symbol("_impressionEventCallback"),u=Symbol("_geometryChangeEventCallback"),$=Symbol("_handlePauseResume"),p=Symbol("_handleVolumeChange"),f=Symbol("_handleStart"),h=Symbol("_viewabilityChangeEventCb"),v=Symbol("_setGroupmTimeCutOff"),y=Symbol("_isPlayerMute"),_=Symbol("_hasGeometryData"),b=Symbol("_hasPercentageInViewData"),S=Symbol("_isAutoPlay"),g=Symbol("_isMute"),E=Symbol("_adDuration"),x=Symbol("_isVideoOn"),I=Symbol("_atfPixelFired"),C=Symbol("_isGeometrySet"),O=Symbol("_isPercentageInViewAvailable"),T=Symbol("_utils"),w=function e(o,t,i){var r=this;n()(this,e),m()(this,"initViewCompOMSDK",(function(e,o,t,i,n,m){try{r[v]=n,r[h]=t,r[s].addEventListener("impression",(function(t){return r[d]("impression",t,e,o,i,"imp1")})),m&&r[d]("customImpression",m,e,o,i,"custImp")}catch(e){r[a].reportClientError(e)}})),m()(this,"isAutoPlay",(function(){return r[S]})),m()(this,"isMute",(function(){return r[g]})),m()(this,"isVideoOn",(function(){return r[x]})),m()(this,"isPercentageInViewAvailable",(function(){return r[O]})),m()(this,"getAdDuration",(function(){return r[E]})),m()(this,$,(function(e){r[x]="resume"===e.type,r[h](e.type)})),m()(this,y,(function(e){return 0===e.data.deviceVolume||0===e.data.playerVolume})),m()(this,f,(function(e){r[x]=!0,r[E]=1e3*e.data.duration,r[g]=r[y](e),r[v](r[E]),r[h](e.type)})),m()(this,p,(function(e){r[g]=r[y](e);var o=r[g]?"muteOn":"muteOff";r[h](o)})),m()(this,_,(function(e){return e&&e.data&&e.data.adView&&e.data.adView.geometry&&"number"==typeof e.data.adView.geometry.width})),m()(this,b,(function(e){return e&&e.data&&e.data.adView&&"number"==typeof e.data.adView.percentageInView})),m()(this,c,(function(e){try{"loaded"===e.type?r[S]=e.data.autoPlay:"start"===e.type?r[f](e):"pause"===e.type||"resume"===e.type?r[$](e):"volumeChange"===e.type?r[p](e):("skipped"===e.type||"complete"===e.type)&&(r[x]=!1,r[h](e.type))}catch(e){r[a].reportClientError(e)}})),m()(this,l,(function(e,o,t,i,n,m){if(r[T].setEvent(e),!r[C]&&r[_](o)&&(n(o.data),r[C]=!0),r[b](o)){r[O]=!0;var s=o.data.adView.percentageInView/100;r[I]?i(s):(r[I]=!0,t(s,m))}else if("customImpression"===e){r[I]||(r[I]=!0,t(0,m))}})),m()(this,d,(function(e,o,t,i,n,m){try{r[l](e,o,t,i,n,m),r[s].addEventListener("geometryChange",(function(e){return r[u](e,t,i,n)}))}catch(e){r[a].reportClientError(e)}})),m()(this,u,(function(e,o,t,i){try{r[l]("geometryChange",e,o,t,i,"gc1")}catch(e){r[a].reportClientError(e)}})),this[s]=o,this[a]=t,this[T]=i,this[S]=!1,this[g]=!1,this[x]=!1,this[E]=0,this[I]=!1,this[C]=!1,this[O]=!1},M=Symbol("_utils"),P=Symbol("_reportError"),N=Symbol("_pixelQueue"),A=Symbol("_pixelQueue"),V=Symbol("_checkAndReportDuration"),D=Symbol("_vd"),R=function e(o,t,i,r){var s=this;n()(this,e),m()(this,"visHandler",(function(){s[D].visible||(s[D].startTs=s[M].getTimeStamp(),s[D].latestTs=s[M].getTimeStamp(),s[D].setIntervalHandler=s[M].setInterval((function(){s[V]()}),1e3)),s[D].visible=!0})),m()(this,"invHandler",(function(){s[D].visible&&(s[D].totalDuration+=s[M].getTimeStamp()-s[D].latestTs,s[A].clearInterval(s[D].setIntervalHandler)),s[D].visible=!1})),m()(this,V,(function(){try{if(s[D].visible){for(var e=s[M].getTimeStamp()-s[D].startTs;s[D].pCount<s[D].pixelReportTime.length&&e>=s[D].pixelReportTime[s[D].pCount];)s[D].latestTs=s[M].getTimeStamp(),s[D].totalDuration+=e,s[N].addPixel({vdr:e.toFixed(2),tdr:s[D].totalDuration.toFixed(2)}),s[D].pCount+=1;s[D].pCount>=s[D].pixelReportTime.length&&s[A].clearInterval(s[D].setIntervalHandler)}}catch(e){s[P].reportClientError(e)}})),this[A]=o,this[M]=t,this[P]=i,this[N]=r,this[D]={startTs:0,latestTs:0,totalDuration:0,visible:!1,pixelReportTime:[2e3,4e3,8e3,16e3],setIntervalHandler:null,pCount:0}},G=Symbol("_videoViewability"),U=Symbol("_omidAdapter"),k=Symbol("_pixelQueue"),F=Symbol("_reportError"),L=Symbol("_viewDuration"),j=Symbol("_utils"),Y=Symbol("_computeViewability"),B=Symbol("_fireBeacon"),H=Symbol("_allViewBeaconsFired"),K=Symbol("_seenForTimeIab"),W=Symbol("_seenForTimeGroupm"),J=Symbol("_setGeometryDataOMSDK"),z=Symbol("_checkAndStartIabTimer"),Q=Symbol("_resetIabTimer"),X=Symbol("_checkAndStartGroupmTimer"),q=Symbol("_resetGroupmTimer"),Z=Symbol("_setGroupmTimeCutOff"),ee=Symbol("_sendViewNot"),oe=Symbol("_reportViewEvent"),te=Symbol("_viewabilityEventCb"),ie=Symbol("_atfPixelFired"),ne=Symbol("_leftPos"),re=Symbol("_topPos"),me=Symbol("_iabAreaCuttOff"),se=Symbol("_groupmAreaCutOff"),ae=Symbol("_iabTimeCutOff"),ce=Symbol("_groupmTimeCutOff"),le=Symbol("_timerIab"),de=Symbol("_timerStartedIab"),ue=Symbol("_timerGroupm"),$e=Symbol("_timerStartedGroupm"),pe=Symbol("_beaconSent"),fe=Symbol("_adWidth"),he=Symbol("_adHeight"),ve=Symbol("_winWidth"),ye=Symbol("_winHeight"),_e=Symbol("_area"),be=Symbol("visibilityState"),Se=Symbol("_vFrac"),ge=Symbol("_reasons"),Ee=Symbol("_isBenchmark"),xe=Symbol("_isVideoCSM"),Ie=Symbol("_maxTimeCutOffGroupm"),Ce=Symbol("_timerStartTimeIab"),Oe=Symbol("_timerStartTimeGroupm");o.a=function e(o,t,i,r){var s=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n()(this,e),m()(this,H,(function(){return s[pe].iab&&s[pe].groupm})),m()(this,K,(function(){s[pe].iab||s[_e]>=s[me]&&(s[B]("viewable",{viewable:!0,defn:"iab",p:s[_e],t:s.getTimeInView(s[Ce])}),s[pe].iab=!0)})),m()(this,W,(function(){s[pe].groupm||s[_e]>=s[se]&&(s[B]("viewable",{viewable:!0,defn:"groupm",p:s[_e],t:s.getTimeInView(s[Oe])}),s[pe].groupm=!0)})),m()(this,B,(function(e,o){var t,i;if(!("above_the_fold"===e&&s[pe].atf||"viewable"===e&&s[pe][o.defn]))try{var n={},r="",a="";switch(e){case"above_the_fold":s[pe].atf=!0,r=s[Ee]?"":"atf/",a=s[Ee]?"atf_ben":"atf",t={},m()(t,a,o.atf),m()(t,"ah",null!==s[he]?s[he]:"undefined"),m()(t,"aw",null!==s[fe]?s[fe]:"undefined"),m()(t,"wh",null!==s[ye]?s[ye]:"undefined"),m()(t,"ww",null!==s[ve]?s[ve]:"undefined"),m()(t,"left",null!==s[ne]?s[ne]:"undefined"),m()(t,"top",null!==s[re]?s[re]:"undefined"),m()(t,"vs",null!==s[be]?s[be]:"undefined"),m()(t,"rs",null!==s[ge]?s[ge]:[]),m()(t,"p",null!==s[Se]?s[Se]:"undefined"),m()(t,"dbg",o.dbg),m()(t,"ts",(new Date).getTime()),(n=t).event=s[j].getEvent(),s[k].firePixel(n,r);break;case"viewable":r=s[Ee]?"":"v/",a=s[Ee]?"v_ben":"v",i={},m()(i,a,{p:parseInt((100*o.p).toFixed(2),10),t:o.t,def:"".concat(o.defn)}),m()(i,"ah",null!==s[he]?s[he]:"undefined"),m()(i,"aw",null!==s[fe]?s[fe]:"undefined"),m()(i,"wh",null!==s[ye]?s[ye]:"undefined"),m()(i,"ww",null!==s[ve]?s[ve]:"undefined"),m()(i,"left",null!==s[ne]?s[ne]:"undefined"),m()(i,"top",null!==s[re]?s[re]:"undefined"),m()(i,"ts",(new Date).getTime()),(n=i).event=s[j].getEvent(),s[k].firePixel(n,r);break;default:n={}}}catch(e){s[F].reportClientError(e)}})),m()(this,"getTimeInView",(function(e){return parseFloat(((s[j].getTimeStamp()-e)/1e3).toFixed(3))})),m()(this,J,(function(e){try{var o="number"==typeof e.adView.percentageInView?e.adView.percentageInView/100:null;s[ne]=e.adView.geometry.x,s[re]=e.adView.geometry.y,s[fe]=e.adView.geometry.width,s[he]=e.adView.geometry.height,s[ye]=e.viewport.height,s[ve]=e.viewport.width,s[Se]=o,s[be]=s[j].getVisibilityState(),s[ge]=void 0!==e.adView.reasons?e.adView.reasons:null}catch(e){s[F].reportClientError(e)}})),m()(this,Z,(function(e){s[ce]=Math.min(s[Ie],e/2)})),m()(this,ee,(function(e){s[Ee]||(e?s[L].visHandler():s[L].invHandler())})),m()(this,oe,(function(e){e>=s[me]?s[ee](!0):s[ee](!1)})),m()(this,Y,(function(e,o){var t=function(){var e=!s[de]&&s[_e]>=s[me];s[xe]&&(e=e&&s[G].isVideoOn()),e&&(!1===s[pe].iab&&(s[le]&&s[U].clearTimeout(s[le]),s[Ce]=s[j].getTimeStamp(),s[le]=s[j].setTimeout((function(){s[K]()}),s[ae])),s[de]=!0)};s[z]=t;var i=function(){s[le]&&(s[U].clearTimeout(s[le]),s[de]=!1,s[Ce]=null)};s[Q]=i;var n=function(){var e=!s[$e]&&s[_e]>=s[se]&&s[ce];if(s[xe]&&(e=e&&s[G].isVideoOn()&&!s[G].isMute()&&!s[G].isAutoPlay()),e)try{!1===s[pe].groupm&&(s[ue]&&s[U].clearTimeout(s[ue]),s[Oe]=s[j].getTimeStamp(),s[ue]=s[j].setTimeout((function(){s[W]()}),s[ce])),s[$e]=!0}catch(e){s[F].reportClientError(e)}};s[X]=n;var r=function(){s[ue]&&(s[U].clearTimeout(s[ue]),s[$e]=!1,s[Oe]=null)};s[q]=r;e&&(s[j].startLatencyForParam("atfComp"),s[G]=new w(s[U],s[F],s[j]),s[G].initViewCompOMSDK((function(e,o){try{var i;s[_e]=e,i=s[_e]>=s[me],s[_e]>=s[se]&&n(),s[_e]>=s[me]&&t(),s[j].endLatencyForParam("atfComp"),s[B]("above_the_fold",{atf:i,dbg:o}),s[oe](e)}catch(e){s[F].reportClientError(e)}}),(function(e){try{if(s[_e]=e,s[oe](e),s[pe].iab&&s[pe].groupm)return;e>=s[me]&&!s[de]?t():e<s[me]&&s[de]&&i(),e>=s[se]&&!s[$e]?n():e<s[se]&&s[$e]&&r()}catch(e){s[F].reportClientError(e)}}),s[te],s[J],s[Z],o))})),m()(this,te,(function(e){s[j].setEvent("video"),"start"===e?s[G].isPercentageInViewAvailable()&&(s[z](),s[X]()):"resume"===e?(s[z](),s[X]()):"pause"===e?(s[Q](),s[q]()):"muteOn"===e?s[q]():"muteOff"===e?s[X]():"skipped"!==e&&"complete"!==e||(s[Q](),s[q](),s[ee](!1))})),m()(this,"collectData",(function(e){s[ie]=!0,s[Y](!0,e)})),this[U]=o,this[k]=t,this[F]=i,this[j]=r,this[L]=new R(o,r,i,t),this[me]=.5,this[se]=.9,this[ae]=1e3,this[ce]=1e3,this[Ie]=15e3,this[le]=!1,this[de]=!1,this[ue]=!1,this[$e]=!1,this[pe]={atf:!1,iab:!1,groupm:!1},this[ne]=null,this[re]=null,this[fe]=null,this[he]=null,this[ye]=null,this[ve]=null,this[be]=null,this[Se]=null,this[ge]=null,this[_e]=null,this[Ee]=a,this[xe]=!1,this[Ce]=null,this[Oe]=null}},function(e,o,t){"use strict";t.r(o),(new(t(5).a)).init()}]);
        }
    }
}
init();
